<h1>Task Manager</h1>
<app-add-task (taskAdded)="onTaskAdded($event)"></app-add-task>

<div class="task-columns">
    <div class="task-column">
        <h2>To Do</h2>
        <ul>
            <li *ngFor="let task of toDoTasks">
                <input type="checkbox" [checked]="task.completed" (change)="toggleTaskCompletion(task.id)">
                <span [class.completed]="task.completed">{{ task.title }} - {{ task.state }}</span>
                <button (click)="removeTask(task.id)">Remove</button>
                <select (change)="updateTaskState(task.id, $event)">
                    <option value="To Do" [selected]="task.state === 'To Do'">To Do</option>
                    <option value="In Progress" [selected]="task.state === 'In Progress'">In Progress</option>
                    <option value="Done" [selected]="task.state === 'Done'">Done</option>
                </select>
            </li>
        </ul>
    </div>

    <div class="task-column">
        <h2>In Progress</h2>
        <ul>
            <li *ngFor="let task of inProgressTasks">
                <input type="checkbox" [checked]="task.completed" (change)="toggleTaskCompletion(task.id)">
                <span [class.completed]="task.completed">{{ task.title }} - {{ task.state }}</span>
                <button (click)="removeTask(task.id)">Remove</button>
                <select (change)="updateTaskState(task.id, $event)">
                    <option value="To Do" [selected]="task.state === 'To Do'">To Do</option>
                    <option value="In Progress" [selected]="task.state === 'In Progress'">In Progress</option>
                    <option value="Done" [selected]="task.state === 'Done'">Done</option>
                </select>
            </li>
        </ul>
    </div>

    <div class="task-column">
        <h2>Done</h2>
        <ul>
            <li *ngFor="let task of doneTasks">
                <input type="checkbox" [checked]="task.completed" (change)="toggleTaskCompletion(task.id)">
                <span [class.completed]="task.completed">{{ task.title }} - {{ task.state }}</span>
                <button (click)="removeTask(task.id)">Remove</button>
                <select (change)="updateTaskState(task.id, $event)">
                    <option value="To Do" [selected]="task.state === 'To Do'">To Do</option>
                    <option value="In Progress" [selected]="task.state === 'In Progress'">In Progress</option>
                    <option value="Done" [selected]="task.state === 'Done'">Done</option>
                </select>
            </li>
        </ul>
    </div>
</div>
